@model SAL.MVC.Areas.Suprimento.Models.ProdutoModel
<div role="content">

    <!-- widget edit box -->
    <div class="jarviswidget-editbox">
        <!-- This area used as dropdown edit box -->

    </div>
    <!-- end widget edit box -->
    <!-- widget content -->
    <div class="widget-body no-padding">

        <!-- Error states for elements -->
        <form class="smart-form" id="frmSuprimento">
            @Html.HiddenFor(m => m.Id)
            @Html.Hidden("NomeSuprimento", Model.Nome)
            <fieldset>
                <div class="row">
                    <section class="col col-6">
                        <label class="label">
                            @Html.LabelFor(m => m.Nome)
                            <span class="font-xs text-danger">*</span>
                        </label>
                        <label class="input">
                            @Html.TextBoxFor(m => m.Nome)
                        </label>
                    </section>
                    <section class="col col-2">
                        <label class="label">
                            @Html.LabelFor(m => m.Variacao)
                        </label>
                        <label class="input">
                            @Html.TextBoxFor(m => m.Variacao)
                        </label>
                    </section>
                    <section class="col col-2">
                        <label class="label">
                            @Html.LabelFor(m => m.Codigo)
                        </label>
                        <label class="input">
                            @Html.TextBoxFor(m => m.Codigo)
                        </label>
                    </section>
                    <section class="col col-2">
                        <label class="label">
                            @Html.LabelFor(m => m.Ativo)
                        </label>
                        <label class="checkbox">
                            @Html.CheckBoxFor(m => m.Ativo)
                            <i></i>
                        </label>
                    </section>
                </div>
                <div class="row">
                    <section class="col col-6">
                        <section>
                            <label class="label">
                                @Html.LabelFor(m => m.TipoIdSelect)
                                <span class="font-xs text-danger">*</span>
                            </label>
                            <label class="select">
                                @Html.DropDownListFor(m => m.TipoIdSelect, Model.TipoLista, "Selecione", new { onchange = "SelecionaConta(this);" })
                                <i></i>
                            </label>
                        </section>
                        <section>
                            <label class="label">
                                @Html.LabelFor(m => m.ContaIdSelect)
                                <span class="font-xs text-danger">*</span>
                            </label>
                            <label class="select">
                                @Html.DropDownListFor(m => m.ContaIdSelect, Model.ContaLista, "Selecione", new { onchange = "AtualizaConta();" })
                                <i></i>
                            </label>
                        </section>
                        <section>
                            <label class="label">
                                @Html.LabelFor(m => m.FornecedorIdSelect)
                            </label>
                            <label class="select">
                                @Html.DropDownListFor(m => m.FornecedorIdSelect, Model.FornecedorLista, "Selecione")
                                <i></i>
                            </label>
                        </section>
                        <div class="row">
                            <section class="col col-4">
                                <label class="label">
                                    @Html.LabelFor(m => m.ValorCusto)
                                    <span class="font-xs text-danger">*</span>
                                </label>
                                <label class="input">
                                    @Html.TextBoxFor(m => m.ValorCusto, new { onkeypress = "return isDecimal(event);", onkeyup = "return retiraPontos(event);" })
                                </label>
                            </section>
                            <section class="col col-4">
                                <label class="label">
                                    @Html.LabelFor(m => m.ValorVenda)
                                    <span class="font-xs text-danger">*</span>
                                </label>
                                <label class="input">
                                    @Html.TextBoxFor(m => m.ValorVenda, new { onkeypress = "return isDecimal(event);", onkeyup = "return retiraPontos(event);" })
                                </label>
                            </section>
                            <section class="col col-4">&nbsp;</section>
                        </div>
                        <div class="row">
                            <section class="col col-4">
                                <label class="label">
                                    @Html.LabelFor(m => m.QuantidadeEstoque)
                                </label>
                                <label class="input">
                                    @Html.TextBoxFor(m => m.QuantidadeEstoque, new { type = "number", disabled = "disabled" })
                                </label>
                            </section>
                            <section class="col col-4">
                                <label class="label">
                                    @Html.LabelFor(m => m.QuantidadeMinima)
                                </label>
                                <label class="input">
                                    @Html.TextBoxFor(m => m.QuantidadeMinima, new { type = "number" })
                                </label>
                            </section>
                            <section class="col col-4">
                                <label class="label">
                                    @Html.LabelFor(m => m.ControlarEstoque)
                                </label>
                                <label class="checkbox">
                                    @Html.CheckBoxFor(m => m.ControlarEstoque, new { onclick = "HabilitaEstoque(this.checked);" })
                                    <i></i>
                                </label>
                            </section>

                        </div>
                    </section>
                    <section class="col col-6">
                        <div class="row">
                            <section class="col col-6">
                                <section style="border-right:1px solid #eee;">
                                    <section>
                                        <label class="label">
                                            @Html.LabelFor(m => m.MembroGLP)
                                        </label>
                                        <label class="checkbox">
                                            @Html.CheckBoxFor(m => m.MembroGLP, new { onclick = "HabilitaMembroGLP(this.checked);" })
                                            <i></i><span class="note">Habilita o produto apenas para membros da AMORC</span>
                                        </label>
                                    </section>
                                    <section>
                                        <label class="label">
                                            @Html.LabelFor(m => m.MembroTOM)
                                        </label>
                                        <label class="checkbox">
                                            @Html.CheckBoxFor(m => m.MembroTOM)
                                            <i></i><span class="note">Habilita o produto apenas para membros da TOM</span>
                                        </label>
                                    </section>
                                    <section>
                                        <label class="label">
                                            @Html.LabelFor(m => m.MembroOGG)
                                        </label>
                                        <label class="checkbox">
                                            @Html.CheckBoxFor(m => m.MembroOGG)
                                            <i></i><span class="note">Habilita o produto apenas para membros da OGG</span>
                                        </label>
                                    </section>
                                </section>
                                <section style="border-right:1px solid #eee;">
                                    <label class="label">
                                        @Html.LabelFor(m => m.MembroOA)
                                    </label>
                                    <label class="checkbox">
                                        @Html.CheckBoxFor(m => m.MembroOA, new { onclick = "HabilitaQuitacao()" })
                                        <i></i><span class="note">Habilita o produto apenas para membros do Organismo Afiliado</span>
                                    </label>
                                </section>
                                <section>
                                    <label class="label">
                                        @Html.LabelFor(m => m.MembroDual)
                                    </label>
                                    <label class="checkbox">
                                        @Html.CheckBoxFor(m => m.MembroDual)
                                        <i></i><span class="note">Habilita o produto apenas para membros da AMORC no regime DUAL</span>
                                    </label>
                                </section>
                                <section>
                                    <label class="label">
                                        @Html.LabelFor(m => m.MembroIndividual)
                                    </label>
                                    <label class="checkbox">
                                        @Html.CheckBoxFor(m => m.MembroIndividual)
                                        <i></i><span class="note">Habilita o produto apenas para membros da AMORC no regime INDIVIDUAL</span>
                                    </label>
                                </section>
                            </section>
                            <section class="col col-6" style="display:none;">
                                <section>&nbsp;</section>
                                <section>&nbsp;</section>
                                <section>
                                    <label class="label">
                                        @Html.LabelFor(m => m.Remessa)
                                    </label>
                                    <label class="checkbox">
                                        @Html.CheckBoxFor(m => m.Remessa)
                                        <i></i>
                                    </label>
                                </section>
                                <section>&nbsp;</section>
                                <section>&nbsp;</section>
                                <div class="row">
                                    <section class="col col-3">
                                        <label class="label">
                                            @Html.LabelFor(m => m.PrazoQtdeMeses)
                                        </label>
                                        <label class="input">
                                            @Html.TextBoxFor(m => m.PrazoQtdeMeses, new { type = "number", @class = "disabled" })
                                        </label>
                                    </section>
                                </div>
                            </section>
                        </div>
                    </section>
                </div>
            </fieldset>
        </form>
        <!--/ Error states for elements -->
    </div>
    <!-- end widget content -->
</div>
@Html.Raw(SAL.MVC.Helpers.Notify.JsNotify(Model.ReturnAttribute, "frmSuprimento"))
@if (Model.Id == 0)
{
    <script>
        $("#QuantidadeEstoque").removeAttr("disabled");
        DesabilitaMembroGLP();
        HabilitaEstoque(false);
    </script>
}
else
{
    <script>        
        HabilitaMembroGLP($("#MembroGLP").prop("checked"));
        HabilitaEstoque($("#ControlarEstoque").prop("checked"));
    </script>
}
@*
    @if (Model.SuprimentoGLP != null)
    {
        <script>
            $("#frmSuprimento input").attr("disabled", "disabled");
            $("#frmSuprimento select").attr("disabled", "disabled");
            $("#frmSuprimento #Variacao").removeAttr("disabled");
            $("#frmSuprimento #Id").removeAttr("disabled");
        </script>
    }*@
<script>
    $("#Codigo").val('@Model.Codigo');
    HabilitaQuitacao();
</script>
@if (Model.ReturnAttribute.Status == SAL.MVC.Helpers.Constantes.StatusRetorno.Sucesso)
{
    <script>
        if ($("#line_@(Model.Id)").length == 0) {
            LoadList();
        } else {
            $("#line_@(Model.Id)").children()[0].innerHTML = '@Model.Codigo';
            $("#line_@(Model.Id)").children()[1].innerHTML = document.forms["frmSuprimento"].TipoIdSelect.options[document.forms["frmSuprimento"].TipoIdSelect.selectedIndex].text;
            $("#line_@(Model.Id)").children()[2].innerHTML = $("#NomeSuprimento").val() + ($("#Variacao").val() != "" ? " - " + $("#Variacao").val() : "");
            @*
            if (document.forms["frmSuprimento"].FornecedorIdSelect.options[document.forms["frmSuprimento"].FornecedorIdSelect.selectedIndex].text == "Selecione") {
                $("#line_@(Model.Id)").children()[3].innerHTML = "";
            } else {
                $("#line_@(Model.Id)").children()[3].innerHTML = document.forms["frmSuprimento"].FornecedorIdSelect.options[document.forms["frmSuprimento"].FornecedorIdSelect.selectedIndex].text;
            }
            *@
            $("#line_@(Model.Id)").children()[4].innerHTML = '@Model.QuantidadeEstoque';
            $("#line_@(Model.Id)").children()[5].innerHTML = '@Model.ValorVenda.ToString("0.00")';
            $("#line_@(Model.Id)").children()[6].innerHTML = '@(Model.Ativo ? "Sim" : "Não")';
        }
    </script>
}